#! /usr/bin/env bash

# ---------- homebrew autocomplete ----------
source $(brew --repository)/etc/bash_completion.d/brew


# ---------- Application aliases ----------
alias subl="/Applications/Sublime\ Text.app/Contents/SharedSupport/bin/subl"
alias lip="ipconfig getifaddr en0"
alias bi="brew install"
alias bu="brew uninstall"
alias bl="brew list"
alias bs="brew search"

export CLICOLOR=1

# If there is a dircolors config file, check to see if this mac has the GNU
# coreutils library, if it does, then set the dircolors according to the config.
# If GNU coreutils is not installed, ask them to install it.
# If the user doesn't want to install it or there is no dircolors config, then
# setup some basic ls colorings
if [[ -e "$DIRCOLORS_FILE" ]]; then
    if [[ -f /usr/local/bin/gdircolors ]]; then
        eval $(/usr/local/bin/gdircolors "$DIRCOLORS_FILE")
    else
        echo "GNU coreutils must be installed"

        while true; do
            read -p "Do you want to install them with Homebrew? (y/n) " yn
            case $yn in
                [Yy]* )
                    brew install coreutils --default-names
                    eval $(/usr/local/bin/gdircolors -b "$DIRCOLORS_FILE")

                    break
                    ;;
                [Nn]* )
                    break
                    ;;
                * )
                    echo "Please answer y or n"
                    ;;
            esac
        done
    fi
else
    export LSCOLORS=gxbxfxdxcxegedabagaced
fi

# Use the GNU ls instead of the builtin OS X version.
if [[ -e /usr/local/bin/gls ]]; then
    alias lla="/usr/local/bin/gls -al --color=auto"
else
    alias lla="ls -al"
fi